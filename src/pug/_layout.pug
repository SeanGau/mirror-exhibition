block variables
doctype
html(lang="zh-Hant-TW")
    head
        //網頁程式設計－位元創意有限公司
        title #{title} |《鏡子》療癒工藝線上展
        meta(charset="UTF-8")
        meta(name="viewport" content="width=device-width, initial-scale=1.0")
        //meta(property="og:title" content="")
        //meta(property="og:image" content="")
        //meta(name="description" content="")
        link(rel="shortcut icon" type="image/png" href="/assets/favicon.png")
        link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3' crossorigin='anonymous')
        link(href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500&family=Noto+Serif+TC:wght@300;500;700&family=Noto+Sans:wght@400;800&display=swap" rel="stylesheet")
        link(rel="stylesheet" href="/assets/css/base.css?version="+timestamp)
        block head
    body(tabindex="0")
        nav.navbar.navbar-expand-md.navbar-light.fixed-top: .container-fluid
            a.navbar-brand.ms-2.ps-1(href="/") Mirror
            button.navbar-toggler(data-bs-toggle='collapse' data-bs-target='#navbarNav' aria-controls='#navbarNav' aria-expanded='false' aria-label='Toggle navigation')
                span.navbar-toggler-icon
            #navbarNav.collapse.navbar-collapse
                ul.navbar-nav.link-box.me-auto
                    li.nav-item: a.nav-link(href='/about') 鏡子線上展
                    li.nav-item.dropdown
                        a.nav-link#artistDropdownMenuLink(href='#' data-bs-toggle="dropdown" aria-expanded="false") 藝術家
                        ul.dropdown-menu(aria-labelledby="artistDropdownMenuLink")
                            li
                                a.dropdown-item(href='/artist/1') 王筱璦‧王筱璦金工藝術
                                a.dropdown-item(href='/artist/2') 潘子村‧村 碟樂
                                a.dropdown-item(href='/artist/3') 黃虹毓‧土星工作室
                                a.dropdown-item(href='/artist/4') 陳向榮‧向榮水果行
                                a.dropdown-item(href='/artist/5') 康雅筑‧織物地圖
                                a.dropdown-item(href='/artist/6') 林秀蘋(思良)‧BONTE好物金工
                                a.dropdown-item(href='/artist/7') 張博傑‧真真鑲嵌玻璃研究所
                                a.dropdown-item(href='/artist/8') 賴信佑‧光山行漆器工藝
                    li.nav-item: a.nav-link(href='/more') 了解更多
                a.ms-3.btn.btn-purple(href='https://player.soundon.fm/p/25079601-f138-48b3-868b-9e2be7886ca7' target="_blank") 🎧閉上眼睛聽導覽
                a.ms-4.btn.btn-purple(href='#' data-bs-toggle="modal" data-bs-target="#helpModal") 🦄
                a.ms-4.btn.btn-purple(href='#') 🌍
        #bodyOffset
        .modal.fade#workModal(tabindex='-1' aria-hidden='true')
            .modal-dialog.modal-fullscreen
                .modal-content
                    .modal-body.d-flex.justify-content-center.align-items.center
                        #workImageBox: div.img-box
                            img(src="", alt="", srcset="")
                            a.close-button(data-bs-dismiss='modal' aria-label='Close')
                                svg.w-100.h-100(xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512' fill='currentColor')
                                    // ! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. 
                                    path(d='M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z')
        
        .modal.fade#helpModal(tabindex='-1' aria-hidden='true')
            .modal-dialog.modal-fullscreen
                .modal-content
                    .modal-body.d-flex.justify-content-center.align-items.center
                        #helpBox
                            div.text-center
                                h4 歡迎你／妳來到《鏡子》療癒工藝線上展。
                                h4 八位參展藝術家，或以作品、或以概念，來探索療癒真諦。
                                p.
                                    推薦以電腦版瀏覽本展覽。<br>
                                    首頁點選任一幾何圖形可進入個別藝術家展間。<br>
                                    展間將先出現概念互動區，往下滑可欣賞作品。
                                p.
                                    左上方點選「Mirror」可回到首頁。<br>
                                    點選「藝術家」亦可轉換展間。
                                h4 忘記了? 別擔心~
                                p 點選「🦄」可再度展開本說明
                                p 請戴上耳機，靜下心自由地感受

                            a.close-button(data-bs-dismiss='modal' aria-label='Close')
                                svg.w-100.h-100(xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512' fill='currentColor')
                                    // ! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. 
                                    path(d='M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z')
        block body      
        script(src='https://code.jquery.com/jquery-3.6.0.min.js' integrity='sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=' crossorigin='anonymous')        
        script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js' integrity='sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p' crossorigin='anonymous')
        script.
            $(function() {
                function checkLoad() {
                    const lastVisit = localStorage.getItem('lastVisit')
                    const now = new Date()
                    if(lastVisit) {
                        if(now.getTime() - lastVisit < 24*60*60*1000) 
                            return
                    }
                    let helpModal = new bootstrap.Modal(document.getElementById('helpModal'), {})
                    helpModal.show()
                    localStorage.setItem('lastVisit', now.getTime())
                }
                checkLoad()
            })

            var dropdown = new bootstrap.Dropdown(document.getElementById('artistDropdownMenuLink'), {});
            $("#artistDropdownMenuLink").on("mouseenter", function(e) {
                    dropdown.show()
            })
            $("#artistDropdownMenuLink").on("click", function(e) {
                    e.preventDefault()
                    dropdown.show()
            })
            $(".dropdown-menu").on("mouseleave", function(e) {
                    dropdown.hide()
            })
        block script
